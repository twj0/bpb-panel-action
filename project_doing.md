# é¡¹ç›®æ‰§è¡Œè¿‡ç¨‹è®°å½•

## ä¼šè¯ä¿¡æ¯
- **ä¼šè¯æ—¶é—´**: 2024å¹´
- **æ‰§è¡ŒåŽŸå› **: ç”¨æˆ·è¯·æ±‚å¢žå¼º BPB Panel çš„ GitHub Actions å·¥ä½œæµï¼Œæ·»åŠ  README.md è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
- **ç›®æ ‡**: å¢žå¼ºçŽ°æœ‰çš„ upbpb.yml å·¥ä½œæµï¼Œä½¿å…¶èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°é¡¹ç›®çš„ README.md æ–‡ä»¶

## æ‰§è¡Œè¿‡ç¨‹

### 1. é¡¹ç›®åˆ†æžé˜¶æ®µ
**æ—¶é—´**: å¼€å§‹é˜¶æ®µ
**æ“ä½œ**: åˆ†æžçŽ°æœ‰å·¥ä½œæµæ–‡ä»¶å’Œé¡¹ç›®ç»“æž„
**è¾“å…¥æ–‡ä»¶**: 
- `.github/workflows/upbpb.yml`
- `SYNC.md`

**åˆ†æžç»“æžœ**:
- çŽ°æœ‰å·¥ä½œæµåŠŸèƒ½å®Œæ•´ï¼Œå®žçŽ°äº†åŸºæœ¬çš„è‡ªåŠ¨åŒæ­¥åŠŸèƒ½
- ç¼ºå°‘æ–‡æ¡£è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
- SYNC.md æ–‡æ¡£å†…å®¹è¿‡äºŽç®€å•ï¼Œéœ€è¦è¯¦ç»†è¯´æ˜Ž

### 2. å·¥ä½œæµå¢žå¼ºé˜¶æ®µ
**æ—¶é—´**: ä¸»è¦å¼€å‘é˜¶æ®µ
**æ“ä½œ**: å…¨é¢å¢žå¼º GitHub Actions å·¥ä½œæµ

#### 2.1 æ·»åŠ æ­¥éª¤è¾“å‡ºæ”¯æŒ
**ä¿®æ”¹æ–‡ä»¶**: `.github/workflows/upbpb.yml`
**å…³é”®å˜æ›´**:
```yaml
- name: æ£€æŸ¥å¹¶æ›´æ–° Worker
  id: check_update  # æ–°å¢žæ­¥éª¤ID
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  run: |
    # ... çŽ°æœ‰ä»£ç  ...
    
    # æ–°å¢žè¾“å‡ºå˜é‡è®¾ç½®
    echo "tag_name=$TAG_NAME" >> $GITHUB_OUTPUT
    echo "update_date=$(date +"%Y-%m-%d %H:%M:%S")" >> $GITHUB_OUTPUT
    echo "updated=true" >> $GITHUB_OUTPUT  # æˆ– false
```

#### 2.2 æ–°å¢ž README.md æ›´æ–°æ­¥éª¤
**æ–°å¢žæ­¥éª¤**: "æ›´æ–° README.md"
**æ ¸å¿ƒåŠŸèƒ½**:
- æ¡ä»¶æ‰§è¡Œï¼šä»…åœ¨æ£€æµ‹åˆ°æ–°ç‰ˆæœ¬æ—¶è¿è¡Œ
- æ™ºèƒ½æ–‡æ¡£ç”Ÿæˆï¼šæ”¯æŒåˆ›å»ºæ–°æ–‡æ¡£æˆ–æ›´æ–°çŽ°æœ‰æ–‡æ¡£
- åŠ¨æ€å†…å®¹æ›´æ–°ï¼šè‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ã€æ—¶é—´æˆ³
- æ—¥å¿—ç®¡ç†ï¼šç»´æŠ¤æ›´æ–°åŽ†å²ï¼Œè‡ªåŠ¨æ¸…ç†æ—§æ¡ç›®

**å®žçŽ°ä»£ç **:
```bash
# æ£€æŸ¥ README.md æ˜¯å¦å­˜åœ¨
if [ ! -f "README.md" ]; then
  # åˆ›å»ºæ–°çš„ README.md æ–‡ä»¶
  cat > README.md << EOF
# BPB Worker Panel è‡ªåŠ¨åŒæ­¥é¡¹ç›®
# ... ä¸“ä¸šæ–‡æ¡£å†…å®¹ ...
EOF
else
  # æ›´æ–°çŽ°æœ‰æ–‡æ¡£
  sed -i "s/æœ€åŽæ›´æ–°:.*/æœ€åŽæ›´æ–°: ${UPDATE_DATE}/" README.md
  sed -i "s/å½“å‰ç‰ˆæœ¬:.*/å½“å‰ç‰ˆæœ¬: ${TAG_NAME}/" README.md
fi
```

### 3. æ–‡æ¡£å®Œå–„é˜¶æ®µ
**æ—¶é—´**: åŽæœŸå®Œå–„é˜¶æ®µ
**æ“ä½œ**: æ›´æ–°å’Œåˆ›å»ºé¡¹ç›®æ–‡æ¡£

#### 3.1 é‡å†™ SYNC.md æ–‡æ¡£
**æ–°å†…å®¹ç‰¹æ€§**:
- ðŸ“‹ è¯¦ç»†çš„é¡¹ç›®æ¦‚è¿°å’ŒåŠŸèƒ½è¯´æ˜Ž
- ðŸš€ å®Œæ•´çš„åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨ï¼ˆæ ¸å¿ƒåŠŸèƒ½ + å¢žå¼ºåŠŸèƒ½ï¼‰
- ðŸ”§ æŠ€æœ¯å®žçŽ°ç»†èŠ‚å’Œå·¥ä½œæµé…ç½®
- ðŸ“‹ ä½¿ç”¨æ–¹æ³•å’Œé…ç½®æŒ‡å—
- ðŸ“ æ–‡ä»¶ç»“æž„è¯´æ˜Ž
- ðŸ” è¯¦ç»†çš„å·¥ä½œæµæ­¥éª¤è§£æž
- âš™ï¸ é…ç½®å‚æ•°è¯´æ˜Ž
- ðŸ“ æ›´æ–°æ—¥å¿—å’Œç‰ˆæœ¬åŽ†å²
- ðŸ”§ æ•…éšœæŽ’é™¤æŒ‡å—

#### 3.2 åˆ›å»ºé¡¹ç›®ä»»åŠ¡æ–‡æ¡£
**æ–°å»ºæ–‡ä»¶**: `project_task.md`
**å†…å®¹ç»“æž„**:
- å½“å‰ä»»åŠ¡çŠ¶æ€è·Ÿè¸ª
- å·²å®Œæˆä»»åŠ¡è¯¦ç»†è®°å½•
- æŠ€æœ¯å®žçŽ°è¦ç‚¹æ€»ç»“
- é¡¹ç›®æˆæžœå±•ç¤º

## æŠ€æœ¯äº®ç‚¹

### GitHub Actions é«˜çº§ç‰¹æ€§åº”ç”¨
1. **æ­¥éª¤é—´æ•°æ®ä¼ é€’**: ä½¿ç”¨ `GITHUB_OUTPUT` å®žçŽ°æ­¥éª¤é—´å˜é‡å…±äº«
2. **æ¡ä»¶æ‰§è¡Œé€»è¾‘**: åŸºäºŽå‰é¢æ­¥éª¤çš„è¾“å‡ºå†³å®šåŽç»­æ“ä½œ
3. **åŠ¨æ€å†…å®¹ç”Ÿæˆ**: ä½¿ç”¨ heredoc å’Œå˜é‡æ›¿æ¢åˆ›å»ºåŠ¨æ€æ–‡æ¡£
4. **æ™ºèƒ½æ–‡ä»¶å¤„ç†**: ç»“åˆ sed å‘½ä»¤å®žçŽ°æ–‡æ¡£å†…å®¹çš„ç²¾ç¡®æ›´æ–°

### æ–‡æ¡£ç”Ÿæˆç­–ç•¥
1. **æ¨¡æ¿åŒ–ç”Ÿæˆ**: åˆ›å»ºä¸“ä¸šçš„é¡¹ç›®æ–‡æ¡£æ¨¡æ¿
2. **å¢žé‡æ›´æ–°**: æ™ºèƒ½è¯†åˆ«å’Œæ›´æ–°å…³é”®ä¿¡æ¯
3. **åŽ†å²ç®¡ç†**: è‡ªåŠ¨ç»´æŠ¤æ›´æ–°æ—¥å¿—ï¼Œä¿æŒåˆç†é•¿åº¦
4. **å¤šè¯­è¨€æ”¯æŒ**: ä¸­æ–‡ç•Œé¢ï¼Œç¬¦åˆç”¨æˆ·ä¹ æƒ¯

### é”™è¯¯å¤„ç†å’Œå¥å£®æ€§
1. **æ¡ä»¶åˆ¤æ–­**: æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§ï¼Œé¿å…é”™è¯¯æ“ä½œ
2. **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—ï¼Œä¾¿äºŽè°ƒè¯•
3. **çŠ¶æ€è·Ÿè¸ª**: æ˜Žç¡®çš„æ‰§è¡ŒçŠ¶æ€è¾“å‡º
4. **å®¹é”™è®¾è®¡**: åˆç†çš„é»˜è®¤å€¼å’Œé”™è¯¯æ¢å¤æœºåˆ¶

## æ‰§è¡Œç»“æžœ

### âœ… å®Œæˆçš„åŠŸèƒ½
1. **å·¥ä½œæµå¢žå¼º**: æˆåŠŸæ·»åŠ  README.md è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
2. **æ–‡æ¡£ç”Ÿæˆ**: åˆ›å»ºäº†ä¸“ä¸šçš„é¡¹ç›®æ–‡æ¡£ç”Ÿæˆæœºåˆ¶
3. **çŠ¶æ€ç®¡ç†**: å®žçŽ°äº†å®Œå–„çš„æ‰§è¡ŒçŠ¶æ€è·Ÿè¸ª
4. **æ–‡æ¡£å®Œå–„**: æä¾›äº†è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜Žå’ŒæŠ€æœ¯æ–‡æ¡£
5. **æ‰‹åŠ¨è§¦å‘æ”¯æŒ**: æ–°å¢ž workflow_dispatch äº‹ä»¶ï¼Œæ”¯æŒæ‰‹åŠ¨å¯åŠ¨å·¥ä½œæµæ›´æ–°

### ðŸ“Š ä»£ç å˜æ›´ç»Ÿè®¡
- **ä¸»è¦æ–‡ä»¶ä¿®æ”¹**: 1 ä¸ªå·¥ä½œæµæ–‡ä»¶
- **æ–°å¢žæ–‡æ¡£**: 2 ä¸ªè¯¦ç»†è¯´æ˜Žæ–‡æ¡£
- **ä»£ç è¡Œæ•°**: çº¦ 150+ è¡Œæ–°å¢žä»£ç 
- **åŠŸèƒ½å¢žå¼º**: 4 ä¸ªä¸»è¦åŠŸèƒ½ç‚¹

### ðŸŽ¯ é¡¹ç›®ä»·å€¼
1. **è‡ªåŠ¨åŒ–ç¨‹åº¦**: å®žçŽ°äº†å®Œå…¨è‡ªåŠ¨åŒ–çš„æ–‡æ¡£ç»´æŠ¤
2. **ç”¨æˆ·ä½“éªŒ**: æä¾›äº†ä¸“ä¸šã€æ¸…æ™°çš„é¡¹ç›®æ–‡æ¡£
3. **å¯ç»´æŠ¤æ€§**: å»ºç«‹äº†å®Œå–„çš„æ–‡æ¡£å’Œä»»åŠ¡è·Ÿè¸ªä½“ç³»
4. **æŠ€æœ¯æ·±åº¦**: åº”ç”¨äº† GitHub Actions çš„é«˜çº§ç‰¹æ€§

## åŽç»­å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. **æµ‹è¯•éªŒè¯**: è¿è¡Œå·¥ä½œæµéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§
2. **æ ·å¼è°ƒæ•´**: æ ¹æ®å®žé™…æ•ˆæžœè°ƒæ•´æ–‡æ¡£æ ¼å¼
3. **æ€§èƒ½ä¼˜åŒ–**: ä¼˜åŒ–å¤§åž‹æ–‡ä»¶çš„å¤„ç†æ•ˆçŽ‡

### é•¿æœŸè§„åˆ’
1. **åŠŸèƒ½æ‰©å±•**: è€ƒè™‘æ·»åŠ æ›´å¤šè‡ªåŠ¨åŒ–åŠŸèƒ½
2. **ç›‘æŽ§å‘Šè­¦**: å»ºç«‹å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€ç›‘æŽ§
3. **ç‰ˆæœ¬ç®¡ç†**: å®Œå–„ç‰ˆæœ¬å‘å¸ƒå’Œå˜æ›´ç®¡ç†æµç¨‹

---
*æ­¤è®°å½•è¯¦ç»†è®°å½•äº†é¡¹ç›®å¢žå¼ºè¿‡ç¨‹çš„æ¯ä¸ªå…³é”®æ­¥éª¤å’ŒæŠ€æœ¯å†³ç­–*